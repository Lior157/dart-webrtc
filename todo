- Cleanup leaking sendingRtcStreams when refreshing & no server
- Fix MIME type detection 
- Fix stacktraces: wanneer ge een sessie refreshed:
Front-end:
WebSocket is already in CLOSING or CLOSED state. index.dart:58
sendMessage index.dart:58
sendOffer__closure.call$1 index.dart:116
invokeClosure_closure0.call$0 js_helper.dart:1509
_IsolateContext.eval$1 isolate_helper.dart:274
_callInIsolate isolate_helper.dart:62
invokeClosure js_helper.dart:1509
(anonymous function)
backend:
nick-desktop:dart nevers$ dart server.dart 
Starting server
Listening for connections at 0.0.0.0:1337
Uncaught Error: Bad state: No matching element
Stack Trace:
#0      IterableBase.firstWhere (dart:collection/iterable.dart:340)
#1      WebSocketHandler.getSocketFromClientId (file:///Users/nevers/developer/dart/lib/websockethandler.dart:46:30)
#2      WebSocketHandler.handleData (file:///Users/nevers/developer/dart/lib/websockethandler.dart:53:45)
#3      handleWebSocketConnection.<anonymous closure> (file:///Users/nevers/developer/dart/lib/websockethandler.dart:23:21)
#4      _rootRunUnary (dart:async/zone.dart:543)
#5      _ZoneDelegate.runUnary (dart:async/zone.dart:353)
#6      _CustomizedZone.runUnary (dart:async/zone.dart:493)
#7      _CustomizedZone.runUnaryGuarded (dart:async/zone.dart:445)
#8      _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:326)
#9      _BufferingStreamSubscription._add (dart:async/stream_impl.dart:256)
#10     _StreamController&_SyncStreamControllerDispatch._sendData (dart:async/stream_controller.dart:506)
#11     _StreamController._add (dart:async/stream_controller.dart:421)
#12     _StreamController.add (dart:async/stream_controller.dart:373)
#13     _WebSocketImpl._WebSocketImpl._fromSocket.<anonymous closure> (websocket_impl.dart:801)
#14     _rootRunUnary (dart:async/zone.dart:543)
#15     _ZoneDelegate.runUnary (dart:async/zone.dart:353)
#16     _CustomizedZone.runUnary (dart:async/zone.dart:493)
#17     _CustomizedZone.runUnaryGuarded (dart:async/zone.dart:445)
#18     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:326)
#19     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:256)
#20     _EventSinkAdapter.add (dart:async/stream.dart:1227)
#21     _WebSocketProtocolTransformer.handleData.<anonymous closure> (websocket_impl.dart:101)
#22     _Future._propagateToListeners.<anonymous closure> (dart:async/future_impl.dart:449)
#23     _rootRun (dart:async/zone.dart:531)
#24     _ZoneDelegate.run (dart:async/zone.dart:344)
#25     _CustomizedZone.run (dart:async/zone.dart:489)
#26     _Future._propagateToListeners (dart:async/future_impl.dart:441)
#27     _Future._complete (dart:async/future_impl.dart:298)
#28     Stream.fold.<anonymous closure> (dart:async/stream.dart:320)
#29     _rootRun (dart:async/zone.dart:531)
#30     _ZoneDelegate.run (dart:async/zone.dart:344)
#31     _CustomizedZone.run (dart:async/zone.dart:489)
#32     _CustomizedZone.runGuarded (dart:async/zone.dart:437)
#33     _BufferingStreamSubscription._sendDone (dart:async/stream_impl.dart:355)
#34     _BufferingStreamSubscription._close (dart:async/stream_impl.dart:276)
#35     _EventSinkAdapter.close (dart:async/stream.dart:1229)
#36     _ConverterStreamEventTransformer.close (dart:convert/chunked_conversion.dart:121)
#37     _StringAdapterSink.close (dart:convert/string_conversion.dart:263)
#38     _Utf8ConversionSink.close (dart:convert/string_conversion.dart:321)
#39     _ConverterStreamEventTransformer.handleDone (dart:convert/chunked_conversion.dart:137)
#40     _handleDone (dart:async/stream.dart:1216)
#41     _rootRun (dart:async/zone.dart:531)
#42     _ZoneDelegate.run (dart:async/zone.dart:344)
#43     _CustomizedZone.run (dart:async/zone.dart:489)
#44     _CustomizedZone.runGuarded (dart:async/zone.dart:437)
#45     _BufferingStreamSubscription._sendDone (dart:async/stream_impl.dart:355)
#46     _BufferingStreamSubscription._close (dart:async/stream_impl.dart:276)
#47     _StreamController&_SyncStreamControllerDispatch._sendDone (dart:async/stream_controller.dart:514)
#48     _StreamController.close (dart:async/stream_controller.dart:409)
#49     _WebSocketProtocolTransformer._messageFrameEnd (websocket_impl.dart:282)
#50     _WebSocketProtocolTransformer.handleData (websocket_impl.dart:213)
#51     _handleData (dart:async/stream.dart:1199)
#52     _rootRunUnary (dart:async/zone.dart:543)
#53     _ZoneDelegate.runUnary (dart:async/zone.dart:353)
#54     _CustomizedZone.runUnary (dart:async/zone.dart:493)
#55     _CustomizedZone.runUnaryGuarded (dart:async/zone.dart:445)
#56     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:326)
#57     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:256)
#58     _StreamController&_SyncStreamControllerDispatch._sendData (dart:async/stream_controller.dart:506)
#59     _StreamController._add (dart:async/stream_controller.dart:421)
#60     add (dart:async/stream_controller.dart:373)
#61     _rootRunUnary (dart:async/zone.dart:543)
#62     _ZoneDelegate.runUnary (dart:async/zone.dart:353)
#63     _CustomizedZone.runUnary (dart:async/zone.dart:493)
#64     _CustomizedZone.runUnaryGuarded (dart:async/zone.dart:445)
#65     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:326)
#66     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:256)
#67     _StreamController&_SyncStreamControllerDispatch._sendData (dart:async/stream_controller.dart:506)
#68     _StreamController._add (dart:async/stream_controller.dart:421)
#69     _StreamController.add (dart:async/stream_controller.dart:373)
#70     _onData (dart:io-patch/socket_patch.dart:1172)
#71     _rootRunUnary (dart:async/zone.dart:543)
#72     _ZoneDelegate.runUnary (dart:async/zone.dart:353)
#73     _CustomizedZone.runUnary (dart:async/zone.dart:493)
#74     _CustomizedZone.runUnaryGuarded (dart:async/zone.dart:445)
#75     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:326)
#76     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:256)
#77     _StreamController&_SyncStreamControllerDispatch._sendData (dart:async/stream_controller.dart:506)
#78     _StreamController._add (dart:async/stream_controller.dart:421)
#79     _StreamController.add (dart:async/stream_controller.dart:373)
#80     _RawSocket._RawSocket.<anonymous closure> (dart:io-patch/socket_patch.dart:769)
#81     _NativeSocket.multiplex (dart:io-patch/socket_patch.dart:493)
#82     _NativeSocket.connectToEventHandler.<anonymous closure> (dart:io-patch/socket_patch.dart:592)
#83     _ReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:113)


Unhandled exception:
Bad state: No matching element
#0      _rootHandleUncaughtError.<anonymous closure> (dart:async/zone.dart:526)
#1      _asyncRunCallback (dart:async/event_loop.dart:18)
#2      _asyncRunCallback (dart:async/event_loop.dart:21)
#3      _createTimer.<anonymous closure> (dart:async-patch/timer_patch.dart:11)
#4      _Timer._createTimerHandler._handleTimeout (timer_impl.dart:151)
#5      _Timer._createTimerHandler._handleTimeout (timer_impl.dart:159)
#6      _Timer._createTimerHandler._handleTimeout (timer_impl.dart:159)
#7      _Timer._createTimerHandler.<anonymous closure> (timer_impl.dart:168)
#8      _ReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:113)